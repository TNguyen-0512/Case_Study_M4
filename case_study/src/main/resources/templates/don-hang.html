<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>ƒê∆°n h√†ng c·ªßa t√¥i</title>
  <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
  <link rel="stylesheet" th:href="@{/css/don-hang.css}">
  <style>
    body {
      background-color: #f8f9fa;
    }

    .container {
      max-width: 900px;
      margin: auto;
    }

    .card {
      border-radius: 10px;
    }

    h2 {
      text-align: center;
      color: #2c3e50;
    }

    table th, table td {
      text-align: center;
      vertical-align: middle;
    }
  </style>
</head>

<body>
<div class="container mt-5 pt-5">
  <h2 class="mb-4">üßæ ƒê∆°n h√†ng c·ªßa t√¥i</h2>

  <div th:if="${donHangs != null and !donHangs.isEmpty()}">
    <div th:each="don : ${donHangs}" class="card shadow-sm mb-4">
      <div class="card-body">
        <h5>M√£ ƒë∆°n h√†ng: <span th:text="${don.maDonHang}"></span></h5>
        <p>Ng√†y ƒë·∫∑t: <span th:text="${#temporals.format(don.ngayDatHang.toLocalDateTime(), 'dd/MM/yyyy HH:mm')}"></span></p>

        <p>Tr·∫°ng th√°i:
          <span th:switch="${don.trangThaiDonHang}">
            <span th:case="'Cho_xac_nhan'" class="badge bg-warning">Ch·ªù x√°c nh·∫≠n</span>
            <span th:case="'Dang_giao'" class="badge bg-primary">ƒêang giao</span>
            <span th:case="'Da_giao'" class="badge bg-success">ƒê√£ giao</span>
            <span th:case="'Huy'" class="badge bg-danger">ƒê√£ h·ªßy</span>
            <span th:case="*" class="badge bg-secondary" th:text="${don.trangThaiDonHang}">Kh√°c</span>
          </span>
        </p>

        <p>Thanh to√°n:
          <span th:switch="${don.trangThaiThanhToan}">
            <span th:case="'Chua_thanh_toan'" class="badge bg-warning">Ch∆∞a thanh to√°n</span>
            <span th:case="'Da_thanh_toan'" class="badge bg-success">ƒê√£ thanh to√°n</span>
            <span th:case="*" class="badge bg-secondary" th:text="${don.trangThaiThanhToan}">Kh√°c</span>
          </span>
        </p>

        <p>Ph∆∞∆°ng th·ª©c thanh to√°n: <span th:text="${don.phuongThucThanhToan}"></span></p>

        <div class="row mt-3">
          <div class="col-md-6">
            <p><strong>Ng∆∞·ªùi nh·∫≠n:</strong> <span th:text="${don.tenNguoiNhan}"></span></p>
            <p><strong>ƒêi·ªán tho·∫°i:</strong> <span th:text="${don.soDienThoaiNguoiNhan}"></span></p>
            <p><strong>Email:</strong> <span th:text="${don.emailNguoiNhan}"></span></p>
          </div>
          <div class="col-md-6">
            <p><strong>ƒê·ªãa ch·ªâ giao h√†ng:</strong></p>
            <p th:text="${don.diaChiGiaoHang}"></p>
          </div>
        </div>

        <div class="mt-3">
          <div class="row">
            <div class="col-md-4">
              <p>T·ªïng ti·ªÅn h√†ng: <span class="fw-bold" th:text="${#numbers.formatDecimal(don.tongTienHang, 0, 'COMMA', 0, 'POINT')} + ' VNƒê'"></span></p>
            </div>
            <div class="col-md-4">
              <p>Ph√≠ v·∫≠n chuy·ªÉn: <span class="fw-bold" th:text="${#numbers.formatDecimal(don.phiVanChuyen, 0, 'COMMA', 0, 'POINT')} + ' VNƒê'"></span></p>
            </div>
            <div class="col-md-4">
              <p>Ti·ªÅn gi·∫£m gi√°: <span class="fw-bold text-success" th:text="${#numbers.formatDecimal(don.tienGiamGia, 0, 'COMMA', 0, 'POINT')} + ' VNƒê'"></span></p>
            </div>
          </div>
        </div>

        <div class="border-top pt-3 mt-3">
          <p class="h5">T·ªïng thanh to√°n: <span class="fw-bold text-danger" th:text="${#numbers.formatDecimal(don.tongThanhToan, 0, 'COMMA', 0, 'POINT')} + ' VNƒê'"></span></p>
        </div>

        <div th:if="${don.ghiChu != null and !don.ghiChu.isEmpty()}" class="mt-3">
          <p><strong>Ghi ch√∫:</strong> <span th:text="${don.ghiChu}"></span></p>
        </div>

        <!-- Chi ti·∫øt ƒë∆°n h√†ng -->
        <div th:if="${don.chiTietDonHangList != null and !don.chiTietDonHangList.isEmpty()}" class="mt-4">
          <h6>Chi ti·∫øt ƒë∆°n h√†ng:</h6>
          <div class="table-responsive">
            <table class="table table-bordered table-hover">
              <thead class="table-light">
              <tr>
                <th>S·∫£n ph·∫©m</th>
                <th>S·ªë l∆∞·ª£ng</th>
                <th>ƒê∆°n gi√°</th>
                <th>Th√†nh ti·ªÅn</th>
              </tr>
              </thead>
              <tbody>
              <tr th:each="chiTiet : ${don.chiTietDonHangList}">
                <td th:text="${chiTiet.laptop.tenLaptop}"></td>
                <td th:text="${chiTiet.soLuong}"></td>
                <td th:text="${#numbers.formatDecimal(chiTiet.giaBan, 0, 'COMMA', 0, 'POINT')} + ' VNƒê'"></td>
                <td th:text="${#numbers.formatDecimal(chiTiet.thanhTien, 0, 'COMMA', 0, 'POINT')} + ' VNƒê'"></td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>

      </div>
    </div>
  </div>

  <div th:if="${donHangs == null or donHangs.isEmpty()}">
    <div class="alert alert-info text-center">
      <h5>Ch∆∞a c√≥ ƒë∆°n h√†ng n√†o</h5>
      <p class="mb-0">B·∫°n ch∆∞a c√≥ ƒë∆°n h√†ng n√†o. H√£y mua s·∫Øm ngay!</p>
    </div>
  </div>
</div>

<script th:src="@{/js/bootstrap.bundle.min.js}"></script>
</body>
</html>
