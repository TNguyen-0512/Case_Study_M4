<!DOCTYPE html>
<html lang="vi"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>Trang chủ - NTNLaptop</title>
    <th:block th:insert="~{/layout::library}"/>
    <link rel="stylesheet" th:href="@{/css/home.css}">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script th:src="@{/js/home.js}" defer></script>
</head>
<body>
<!-- Navigation -->
<th:block th:replace="~{/layout::navbar}"/>
<!-- Hero Section -->
<section class="hero-section">
    <div class="container-custom">
        <h1 class="hero-title">
            <i class="fas fa-laptop me-3"></i>
            NTNLaptop
        </h1>
        <p class="hero-subtitle">
            Khám phá bộ sưu tập laptop cao cấp với công nghệ tiên tiến nhất
        </p>
        <div class="hero-stats">
            <div class="stat-item">
                <div class="stat-number" th:text="${productCount} + '+'"></div>
                <div class="stat-label">Sản phẩm</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">50K+</div>
                <div class="stat-label">Khách hàng</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">24/7</div>
                <div class="stat-label">Hỗ trợ</div>
            </div>
        </div>
    </div>
</section>

<!-- Products Section -->
<div class="container-custom">
    <h2 class="section-title animate-on-scroll">Sản phẩm nổi bật</h2>
    <p class="section-subtitle animate-on-scroll">
        Khám phá những chiếc laptop được yêu thích nhất với hiệu năng vượt trội
    </p>
    <form method="get" action="#" class="filter-form">
        <div class="filter-row">
            <!-- Tên laptop -->
            <input type="text" name="tenLaptop" placeholder="Tìm kiếm theo tên"
                   class="form-control"
                   th:value="${tenLaptop}">
            <!-- Giá -->
            <input type="number" name="giaMin" placeholder="Giá từ"
                   class="form-control" th:value="${giaMin}">
            <input type="number" name="giaMax" placeholder="Đến"
                   class="form-control" th:value="${giaMax}">

            <!-- CPU -->
            <input type="text" name="cpu" placeholder="CPU"
                   class="form-control" th:value="${cpu}">

            <!-- RAM -->
            <input type="text" name="ram" placeholder="RAM"
                   class="form-control" th:value="${ram}">

            <!-- Ổ cứng -->
            <input type="text" name="oCung" placeholder="Ổ cứng"
                   class="form-control" th:value="${oCung}">

            <!-- Nút lọc -->
            <button type="submit" class="btn btn-primary">
                <i class="fas fa-filter me-1"></i> Lọc
            </button>
        </div>
    </form>
    <div class="brand-tabs">
        <!-- Tab "Tất cả" -->
        <a th:href="@{/product(tenLaptop=${tenLaptop},
                          giaMin=${giaMin},
                          giaMax=${giaMax},
                          cpu=${cpu},
                          ram=${ram},
                          oCung=${oCung})}"
           th:class="'brand-tab' + (${thuongHieuId} == null ? ' active' : '')">
            <div class="brand-name">Tất cả</div>
            <div class="brand-discount">Xem tất cả</div>
        </a>

        <!-- Tabs thương hiệu -->
        <a th:each="brand : ${thuongHieus}"
           th:href="@{/product(thuongHieuId=${brand.idThuongHieu},
                          tenLaptop=${tenLaptop},
                          giaMin=${giaMin},
                          giaMax=${giaMax},
                          cpu=${cpu},
                          ram=${ram},
                          oCung=${oCung})}"
           th:class="'brand-tab' + (${brand.idThuongHieu} == ${thuongHieuId} ? ' active' : '')">
            <div class="brand-name" th:text="${brand.tenThuongHieu}"></div>
        </a>
    </div>

    <div id="product-container" th:replace="fragments/product-list :: productList"></div>

    <!-- Pagination -->
    <div class="pagination d-flex justify-content-center mt-4">
        <ul class="pagination">
            <!-- Nút Previous -->
            <li class="page-item" th:classappend="${products.first} ? 'disabled'">
                <a class="page-link" th:href="@{/ (page=${products.number - 1})}">&laquo;</a>
            </li>

            <!-- Các số trang -->
            <li class="page-item"
                th:each="i : ${#numbers.sequence(0, products.totalPages - 1)}"
                th:classappend="${i == products.number} ? 'active'">
                <a class="page-link" th:href="@{/ (page=${i})}" th:text="${i + 1}"></a>
            </li>

            <!-- Nút Next -->
            <li class="page-item" th:classappend="${products.last} ? 'disabled'">
                <a class="page-link" th:href="@{/ (page=${products.number + 1})}">&raquo;</a>
            </li>
        </ul>
    </div>


    <!-- Features Section -->
    <section class="features-section">
        <h2 class="section-title">Tại sao chọn NTNLaptop?</h2>
        <div class="features-grid">
            <div class="feature-item">
                <div class="feature-icon">
                    <i class="fas fa-shipping-fast"></i>
                </div>
                <h3 class="feature-title">Giao hàng nhanh</h3>
                <p class="feature-desc">Giao hàng miễn phí toàn quốc trong 24h với đơn hàng trên 10 triệu</p>
            </div>
            <div class="feature-item">
                <div class="feature-icon">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <h3 class="feature-title">Bảo hành chính hãng</h3>
                <p class="feature-desc">Bảo hành toàn diện từ 12-36 tháng cùng dịch vụ hỗ trợ 24/7</p>
            </div>
            <div class="feature-item">
                <div class="feature-icon">
                    <i class="fas fa-medal"></i>
                </div>
                <h3 class="feature-title">Chất lượng đảm bảo</h3>
                <p class="feature-desc">100% hàng chính hãng, được kiểm tra kỹ càng trước khi giao</p>
            </div>
            <div class="feature-item">
                <div class="feature-icon">
                    <i class="fas fa-headset"></i>
                </div>
                <h3 class="feature-title">Hỗ trợ tận tâm</h3>
                <p class="feature-desc">Đội ngũ tư vấn chuyên nghiệp, hỗ trợ khách hàng 24/7</p>
            </div>
        </div>
    </section>

    <!-- Footer Section -->
    <th:block th:replace="~{/layout::footer}"/>
</div>

</body>
</html>
